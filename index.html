<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="dijit/themes/dijit.css">
        <link rel="stylesheet" href="dijit/themes/claro/claro.css">
        <script>
            var dojoConfig = {
                async: true,
                paths: {
                    'react': 'https://unpkg.com/react@16/umd/react.development',
                    'react-dom': 'https://unpkg.com/react-dom@16/umd/react-dom.development'
                }
            };
        </script>
        <script src="dojo/dojo.js"></script>
    </head>
    <body>
        <div id="meat"></div>
        <script>
            require([
                'dojo/on',
                'dijit/form/Button',
                'dijit/layout/ContentPane',
                'dijit/layout/BorderContainer',
                'react',
                'react-dom',
                'markw/Clock'
            ], function(
                on,
                Button,
                ContentPane,
                BorderContainer,
                React,
                ReactDOM,
                Clock
            ) {
                let but = new Button({
                    label: "Something"
                });
                let cp = new ContentPane({
                    region: 'center',
                    content: `<div>
                        <span style="color: red">Hey, sailor...</span> what's cooking?
                    </div>`
                });
                cp.addChild(but);

                let cp1 = new ContentPane({
                    region: 'right',
                });

                let layout = new BorderContainer();
                layout.addChild(cp);
                layout.addChild(cp1);
                layout.placeAt('meat');
                let clock = React.createElement(Clock);
                let renderedClock = ReactDOM.render(clock, cp1.containerNode);
                let i = 0;
                on(but, 'click', () => {
                    console.log("Clock state", renderedClock.state);
                    renderedClock.setState({offset: renderedClock.state.offset + 1});
                });
            });
        </script>
    </body>
</html>
